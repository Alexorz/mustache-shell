<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>MustComb - Demo</title>

    <link rel="stylesheet" href="./css/chico-min-0.11.1.css">
    <link rel="stylesheet" href="./css/chico-mesh.css">
    <link rel="stylesheet" href="./css/qunit.css">
    <link rel="stylesheet" href="./css/editor-ui.css">


    <script type="text/javascript" src="./js/jquery.js" ></script>
    <script type="text/javascript" src="./js/chico-min-0.11.1.js" ></script>
    <script type="text/javascript" src="./js/mustache-0.5.2-dev.js" ></script>
    <script type="text/javascript" src="./js/mustcomb/core.js" ></script>
    <script type="text/javascript" src="./js/mustcomb/tree-node.js" ></script>
    <script type="text/javascript" src="./js/mustcomb/tpl-scanner.js" ></script>
    <script type="text/javascript" src="./js/mustcomb/editor-ui-tpl.js" ></script>
    <script type="text/javascript" src="./js/mustcomb/editor-ui.js" ></script>
    <script type="text/javascript" src="./js/js-beautify.js" ></script>
    <script type="text/javascript" src="./js/qunit.js" ></script>

    <style type="text/css">
        .icon-blue { color:#60a7f1; }
        .icon-green { color:#A4C639; }
        .icon-light-gray { color:#ddd; }

        .page-title { font-size:30px; padding: 20px 0 15px 0; margin-bottom:25px; border-bottom:1px solid #ccc; }

        .flow-menu { max-width:none; margin-bottom:20px; }
        .test-suites-box { padding-bottom:20px; }


        .content-wrap { padding:15px; }

        .tpl-input,
        .tpl-input:focus,
        .form-data-json,
        .form-data-json:focus,
        .test-case-gene,
        .test-case-gene:focus { width:97%; padding:15px; min-height: 200px; color:#333; font-family: Consolas, Arial, "微软雅黑"; }
        pre { font-family: Consolas, Arial, "微软雅黑"; font-size: 11px; }
    </style>

</head>
<body>
    <h1 class="page-title">MustComb Demo</h1>

    <ul class="flow-menu ch-menu" role="navigation">
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-arrow-down icon-blue"></i>Mustache Template Code Input</h2>
            <div class="content-wrap">
                <textarea id="tpl-input" class="tpl-input"></textarea>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-info-sign icon-light-gray"></i>Data JSON Info</h2>
            <div class="content-wrap">
                <pre class="data-json-info-box" id="data-json-info-box">
                    
                </pre>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-info-sign icon-light-gray"></i>Data JSON Demo</h2>
            <div class="content-wrap">
                <pre class="data-json-demo-box" id="data-json-demo-box">
                    
                </pre>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-info-sign icon-light-gray"></i>Form Structure JSON</h2>
            <div class="content-wrap">
                <pre class="form-struct-json-box" id="form-struct-json-box">
                    
                </pre>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-arrow-down icon-blue"></i>Data Form</h2>
            <div class="content-wrap">
                <div class="data-form" id="data-form">
                    
                </div>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-info-sign icon-light-gray"></i>Form Data JSON</h2>
            <div class="content-wrap">
                <textarea id="form-data-json" class="form-data-json"></textarea>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-ok icon-green"></i>Render Result:</h2>
            <div class="content-wrap">
                <div class="render-result" id="render-result">
                    
                </div>
            </div>
        </li>
        <li class="ch-expando">
            <h2 class="ch-expando-trigger ch-user-no-select" role="presentation"><i class="ch-icon-info-sign icon-light-gray"></i>Generate Case Data:</h2>
            <div class="content-wrap">
                <textarea class="test-case-gene" id="test-case-gene"></textarea>
            </div>
        </li>
    </ul>


    <h1 class="page-title" id="test-suite">Test Suite</h1>
    <div class="test-suites-box">
        <div id="qunit"></div>
    </div>

    <script type="text/javascript">
        // Chico UI init
        $(".ch-menu").menu().select(1).select(5).select(7);

        window['TEST_CASES'] = [
            {
                muTplStr : '',
                muStruct : '{"key":null,"type":"object","meta":{},"value":{}}'
            },
            {
                muTplStr : '{{field1}}',
                muStruct : '{"id":4,"parentId":null,"key":null,"type":"object","meta":{},"value":{"field1":{"id":5,"parentId":4,"key":"field1","type":"string","meta":{},"value":""}}}'
            },
            {
                muTplStr : '{{!meta=[ name:"名字1", length:1 ]}}{{field1}} {{!meta=[ name:"名字2" ]}}{{field1}}',
                muStruct : '{"key":null,"type":"object","meta":{},"value":{"field1":{"key":"field1","type":"string","meta":{"name":"名字2","length":1},"value":""}}}'
            },
            {
                "muTplStr": "{{!meta=[ name:\"名字1\", type:'array', length:1 ]}}\n{{#list}}\n   {{!meta=[ name:\"字段11\" ]}}\n   {{field1}}\n   {{!meta=[ type:'array', length:2 ]}}\n   {{#list}}\n      {{!meta=[ name:\"字段12\" ]}}\n      {{field1}}\n   {{/list}}\n{{/list}}\n\n{{#list}}\n   {{field2}}\n   {{#list}}\n      {{field3}}\n   {{/list}}\n{{/list}}",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"list\":{\"key\":\"list\",\"type\":\"object\",\"meta\":{\"name\":\"名字1\",\"type\":\"array\",\"length\":1},\"value\":{\"field1\":{\"key\":\"field1\",\"type\":\"string\",\"meta\":{\"name\":\"字段11\"},\"value\":\"\"},\"list\":{\"key\":\"list\",\"type\":\"object\",\"meta\":{\"type\":\"array\",\"length\":2},\"value\":{\"field1\":{\"key\":\"field1\",\"type\":\"string\",\"meta\":{\"name\":\"字段12\"},\"value\":\"\"},\"field3\":{\"key\":\"field3\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}},\"field2\":{\"key\":\"field2\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}}}}"
            },
            {
                "description": "三级类目树1",
                "muTplStr": "{{!meta=[ type:'func' ]}}\n{{#_hasSubCate_}}\nfunction(){\n  return typeof this.cateList == 'array';\n}\n{{/_hasSubCate_}}\n\n<ul>\n    {{!meta=[ name:\"一级类目\", type:'array', subNameMap:{ cateName:'一级类目名', cateLink:'一级类目链接' } ]}}\n    {{#cateList}}\n    <li>\n        <a href=\"{{cateLink}}\" class=\"cate-name\">{{cateName}}</a>\n        {{#_hasSubCate_}}\n        <ul>\n            {{!meta=[ name:\"二级类目\", type:'array', length:2, subNameMap:{ cateName:'二级类目名', cateLink:'二级类目链接' }  ]}}\n            {{#cateList}}\n            <li>\n                <a href=\"{{cateLink}}\" class=\"cate-name\">{{cateName}}</a>\n                {{#_hasSubCate_}}\n                <ul>\n                    {{!meta=[ name:\"三级类目\", type:'array', subNameMap:{ cateName:'三级类目名', cateLink:'三级类目链接' }  ]}}\n                    {{#cateList}}\n                    <li>\n                        <a href=\"{{cateLink}}\" class=\"cate-name\">{{cateName}}</a>\n                    </li>\n                    {{/cateList}}\n                </ul>\n                {{/_hasSubCate_}}\n            </li>\n            {{/cateList}}\n        </ul>\n        {{/_hasSubCate_}}\n     </li>\n    {{/cateList}}\n</ul>\n",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"cateList\":{\"key\":\"cateList\",\"type\":\"object\",\"meta\":{\"name\":\"一级类目\",\"type\":\"array\",\"subNameMap\":{\"cateName\":\"一级类目名\",\"cateLink\":\"一级类目链接\"}},\"value\":{\"cateLink\":{\"key\":\"cateLink\",\"type\":\"string\",\"meta\":{\"name\":\"一级类目链接\"},\"value\":\"\"},\"cateName\":{\"key\":\"cateName\",\"type\":\"string\",\"meta\":{\"name\":\"一级类目名\"},\"value\":\"\"},\"cateList\":{\"key\":\"cateList\",\"type\":\"object\",\"meta\":{\"name\":\"二级类目\",\"type\":\"array\",\"length\":2,\"subNameMap\":{\"cateName\":\"二级类目名\",\"cateLink\":\"二级类目链接\"}},\"value\":{\"cateLink\":{\"key\":\"cateLink\",\"type\":\"string\",\"meta\":{\"name\":\"二级类目链接\"},\"value\":\"\"},\"cateName\":{\"key\":\"cateName\",\"type\":\"string\",\"meta\":{\"name\":\"二级类目名\"},\"value\":\"\"},\"cateList\":{\"key\":\"cateList\",\"type\":\"object\",\"meta\":{\"name\":\"三级类目\",\"type\":\"array\",\"subNameMap\":{\"cateName\":\"三级类目名\",\"cateLink\":\"三级类目链接\"}},\"value\":{\"cateLink\":{\"key\":\"cateLink\",\"type\":\"string\",\"meta\":{\"name\":\"三级类目链接\"},\"value\":\"\"},\"cateName\":{\"key\":\"cateName\",\"type\":\"string\",\"meta\":{\"name\":\"三级类目名\"},\"value\":\"\"}}}}}}}}}",
                "demoJSON": "{\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\",\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\",\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\"}]},{\"cateLink\":\"\",\"cateName\":\"\",\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\"}]}]}]}"
            },
            {
                "description": "三级类目树2",
                "muTplStr": "{{!meta=[ type:'func' ]}}\n{{#_hasSubCate_}}\nfunction(){\n  return typeof this.cateList == 'array';\n}\n{{/_hasSubCate_}}\n\n<ul>\n    {{!meta=[ name:\"一级类目\", type:'array', subNameMap:{ cateName:'一级类目名', cateLink:'一级类目链接' } ]}}\n    {{#cateList}}\n    <li>\n        <a href=\"{{cateLink}}\" class=\"cate-name\">{{cateName}}</a>\n        {{#_hasSubCate_}}\n        <ul>\n            {{!meta=[ name:\"二级类目\", type:'array', length:2, subNameMap:{ cateName:'二级类目名', cateLink:'二级类目链接' }  ]}}\n            {{#cateList}}\n            <li>\n                <a href=\"{{cateLink}}\" class=\"cate-name\">{{cateName}}</a>\n                {{#_hasSubCate_}}\n                <ul>\n                    {{!meta=[ name:\"三级类目\", type:'array', subNameMap:{ cateName:'三级类目名', cateLink:'三级类目链接' }  ]}}\n                    {{#cateList}}\n                    <li>\n                        <a href=\"{{cateLink}}\" class=\"cate-name\">{{cateName}}</a>\n                    </li>\n                    {{/cateList}}\n                </ul>\n                {{/_hasSubCate_}}\n            </li>\n            {{/cateList}}\n        </ul>\n        {{/_hasSubCate_}}\n     </li>\n    {{/cateList}}\n</ul>\n",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"cateList\":{\"key\":\"cateList\",\"type\":\"object\",\"meta\":{\"name\":\"一级类目\",\"type\":\"array\",\"subNameMap\":{\"cateName\":\"一级类目名\",\"cateLink\":\"一级类目链接\"}},\"value\":{\"cateLink\":{\"key\":\"cateLink\",\"type\":\"string\",\"meta\":{\"name\":\"一级类目链接\"},\"value\":\"\"},\"cateName\":{\"key\":\"cateName\",\"type\":\"string\",\"meta\":{\"name\":\"一级类目名\"},\"value\":\"\"},\"cateList\":{\"key\":\"cateList\",\"type\":\"object\",\"meta\":{\"name\":\"二级类目\",\"type\":\"array\",\"length\":2,\"subNameMap\":{\"cateName\":\"二级类目名\",\"cateLink\":\"二级类目链接\"}},\"value\":{\"cateLink\":{\"key\":\"cateLink\",\"type\":\"string\",\"meta\":{\"name\":\"二级类目链接\"},\"value\":\"\"},\"cateName\":{\"key\":\"cateName\",\"type\":\"string\",\"meta\":{\"name\":\"二级类目名\"},\"value\":\"\"},\"cateList\":{\"key\":\"cateList\",\"type\":\"object\",\"meta\":{\"name\":\"三级类目\",\"type\":\"array\",\"subNameMap\":{\"cateName\":\"三级类目名\",\"cateLink\":\"三级类目链接\"}},\"value\":{\"cateLink\":{\"key\":\"cateLink\",\"type\":\"string\",\"meta\":{\"name\":\"三级类目链接\"},\"value\":\"\"},\"cateName\":{\"key\":\"cateName\",\"type\":\"string\",\"meta\":{\"name\":\"三级类目名\"},\"value\":\"\"}}}}}}}}}",
                "demoJSON": "{\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\",\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\",\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\"}]},{\"cateLink\":\"\",\"cateName\":\"\",\"cateList\":[{\"cateLink\":\"\",\"cateName\":\"\"}]}]}]}",
                "fmStruct": "{\"type\":\"object\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[{\"key\":\"cateList\",\"name\":\"一级类目\",\"type\":\"array\",\"meta\":{\"name\":\"一级类目\",\"type\":\"array\",\"subNameMap\":{\"cateName\":\"一级类目名\",\"cateLink\":\"一级类目链接\"}},\"subProp\":[{\"key\":\"cateLink\",\"name\":\"一级类目链接\",\"type\":\"prop\",\"meta\":{\"name\":\"一级类目链接\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"cateName\",\"name\":\"一级类目名\",\"type\":\"prop\",\"meta\":{\"name\":\"一级类目名\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[{\"key\":\"cateList\",\"name\":\"二级类目\",\"type\":\"array\",\"meta\":{\"name\":\"二级类目\",\"type\":\"array\",\"length\":2,\"subNameMap\":{\"cateName\":\"二级类目名\",\"cateLink\":\"二级类目链接\"}},\"subProp\":[{\"key\":\"cateLink\",\"name\":\"二级类目链接\",\"type\":\"prop\",\"meta\":{\"name\":\"二级类目链接\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"cateName\",\"name\":\"二级类目名\",\"type\":\"prop\",\"meta\":{\"name\":\"二级类目名\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[{\"key\":\"cateList\",\"name\":\"三级类目\",\"type\":\"array\",\"meta\":{\"name\":\"三级类目\",\"type\":\"array\",\"subNameMap\":{\"cateName\":\"三级类目名\",\"cateLink\":\"三级类目链接\"}},\"subProp\":[{\"key\":\"cateLink\",\"name\":\"三级类目链接\",\"type\":\"prop\",\"meta\":{\"name\":\"三级类目链接\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"cateName\",\"name\":\"三级类目名\",\"type\":\"prop\",\"meta\":{\"name\":\"三级类目名\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]}]}]}]}"
            },
            {
                "description": "",
                "muTplStr": "\n{{!meta=[ type:'array', length:3 ]}}\n{{#Array-E}}\n  {{Sub-Prop-A}}\n  {{Sub-Prop-B}}\n  {{Sub-Prop-C}}\n  {{!meta=[ type:'object' ]}}\n  {{#Sub-Object-A}}\n    {{Sub-Sub-Prop-A}}\n    {{Sub-Sub-Prop-B}}\n    {{Sub-Sub-Prop-C}}\n\t{{!meta=[ type:'array' ]}}\n\t{{#Sub-Sub-Array-A}}\n\t  {{Sub-Sub-Sub-Prop-A}}\n\t  {{Sub-Sub-Sub-Prop-B}}\n\t  {{Sub-Sub-Sub-Prop-C}}\n\t{{/Sub-Sub-Array-A}}\n\t{{!meta=[ type:'array' ]}}\n  {{/Sub-Object-A}}\n  {{!meta=[ type:'array' ]}}\n  {{#Sub-Array-A}}\n    {{Sub-Sub-Prop-A}}\n    {{Sub-Sub-Prop-B}}\n    {{Sub-Sub-Prop-C}}\n  {{/Sub-Array-A}}\n  {{!meta=[ type:'array' ]}}\n  {{#Sub-Array-B}}\n    {{Sub-Sub-Prop-A}}\n    {{Sub-Sub-Prop-B}}\n    {{Sub-Sub-Prop-C}}\n    {{!meta=[ type:'object' ]}}\n    {{#Sub-Sub-Sub-Object-A}}\n      {{Sub-Sub-Sub-Sub-Prop-A}}\n      {{Sub-Sub-Sub-Sub-Prop-B}}\n      {{Sub-Sub-Sub-Sub-Prop-C}}\n  {{!meta=[ type:'array' ]}}\n  {{#Sub-Sub-Array-A}}\n    {{Sub-Sub-Sub-Prop-A}}\n    {{Sub-Sub-Sub-Prop-B}}\n    {{Sub-Sub-Sub-Prop-C}}\n      {{!meta=[ type:'array' ]}}\n      {{#Sub-Sub-Sub-Array-A}}\n        {{Sub-Sub-Sub-Sub-Prop-A}}\n        {{Sub-Sub-Sub-Sub-Prop-B}}\n        {{Sub-Sub-Sub-Sub-Prop-C}}\n      {{/Sub-Sub-Sub-Array-A}}\n  {{/Sub-Sub-Array-A}}\n    {{/Sub-Sub-Sub-Object-A}}\n  {{/Sub-Array-B}}\n{{/Array-E}}",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"Array-E\":{\"key\":\"Array-E\",\"type\":\"object\",\"meta\":{\"type\":\"array\",\"length\":3},\"value\":{\"Sub-Prop-A\":{\"key\":\"Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Prop-B\":{\"key\":\"Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Prop-C\":{\"key\":\"Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Object-A\":{\"key\":\"Sub-Object-A\",\"type\":\"object\",\"meta\":{\"type\":\"object\"},\"value\":{\"Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Array-A\":{\"key\":\"Sub-Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\"},\"value\":{\"Sub-Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}}}},\"Sub-Array-A\":{\"key\":\"Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\"},\"value\":{\"Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}},\"Sub-Array-B\":{\"key\":\"Sub-Array-B\",\"type\":\"object\",\"meta\":{\"type\":\"array\"},\"value\":{\"Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Object-A\":{\"key\":\"Sub-Sub-Sub-Object-A\",\"type\":\"object\",\"meta\":{\"type\":\"object\"},\"value\":{\"Sub-Sub-Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Array-A\":{\"key\":\"Sub-Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\"},\"value\":{\"Sub-Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Array-A\":{\"key\":\"Sub-Sub-Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\"},\"value\":{\"Sub-Sub-Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}}}}}}}}}}}}",
                "demoJSON": "{\"Array-E\":[{\"Sub-Prop-A\":\"\",\"Sub-Prop-B\":\"\",\"Sub-Prop-C\":\"\",\"Sub-Object-A\":{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}]},\"Sub-Array-A\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\"}],\"Sub-Array-B\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Sub-Object-A\":{\"Sub-Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Sub-Prop-C\":\"\"}]}]}}]},{\"Sub-Prop-A\":\"\",\"Sub-Prop-B\":\"\",\"Sub-Prop-C\":\"\",\"Sub-Object-A\":{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}]},\"Sub-Array-A\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\"}],\"Sub-Array-B\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Sub-Object-A\":{\"Sub-Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Sub-Prop-C\":\"\"}]}]}}]},{\"Sub-Prop-A\":\"\",\"Sub-Prop-B\":\"\",\"Sub-Prop-C\":\"\",\"Sub-Object-A\":{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}]},\"Sub-Array-A\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\"}],\"Sub-Array-B\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Sub-Object-A\":{\"Sub-Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Sub-Prop-C\":\"\"}]}]}}]}]}",
                "fmStruct": "{\"type\":\"object\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[{\"key\":\"Array-E\",\"name\":\"Array-E\",\"type\":\"array\",\"meta\":{\"type\":\"array\",\"length\":3},\"subProp\":[{\"key\":\"Sub-Prop-A\",\"name\":\"Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Prop-B\",\"name\":\"Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Prop-C\",\"name\":\"Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[{\"key\":\"Sub-Object-A\",\"name\":\"Sub-Object-A\",\"type\":\"object\",\"meta\":{\"type\":\"object\"},\"subProp\":[{\"key\":\"Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[{\"key\":\"Sub-Sub-Array-A\",\"name\":\"Sub-Sub-Array-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\"},\"subProp\":[{\"key\":\"Sub-Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]}]}],\"subArray\":[{\"key\":\"Sub-Array-A\",\"name\":\"Sub-Array-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\"},\"subProp\":[{\"key\":\"Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Array-B\",\"name\":\"Sub-Array-B\",\"type\":\"array\",\"meta\":{\"type\":\"array\"},\"subProp\":[{\"key\":\"Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[{\"key\":\"Sub-Sub-Sub-Object-A\",\"name\":\"Sub-Sub-Sub-Object-A\",\"type\":\"object\",\"meta\":{\"type\":\"object\"},\"subProp\":[{\"key\":\"Sub-Sub-Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[{\"key\":\"Sub-Sub-Array-A\",\"name\":\"Sub-Sub-Array-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\"},\"subProp\":[{\"key\":\"Sub-Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[{\"key\":\"Sub-Sub-Sub-Array-A\",\"name\":\"Sub-Sub-Sub-Array-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\"},\"subProp\":[{\"key\":\"Sub-Sub-Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]}]}]}],\"subArray\":[]}]}]}"
            },
            {
                "description": "",
                "muTplStr": "\n{{!meta=[ type:'array', length:3, maxLength:4, minLength:2 ]}}\n  {{#Sub-Object-A}}\n    {{Sub-Sub-Prop-A}}\n    {{Sub-Sub-Prop-B}}\n    {{Sub-Sub-Prop-C}}\n\t{{!meta=[ type:'object', length:3, maxLength:4, minLength:2 ]}}\n\t{{#Sub-Sub-Array-A}}\n\t  {{Sub-Sub-Sub-Prop-A}}\n\t  {{Sub-Sub-Sub-Prop-B}}\n\t  {{Sub-Sub-Sub-Prop-C}}\n\t{{/Sub-Sub-Array-A}}11\n\t{{!meta=[ type:'array' ]}}\n  {{/Sub-Object-A}}",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"Sub-Object-A\":{\"key\":\"Sub-Object-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"value\":{\"Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Array-A\":{\"key\":\"Sub-Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"object\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"value\":{\"Sub-Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}}}}}}",
                "demoJSON": "{\"Sub-Object-A\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}},{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}},{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}}]}",
                "fmStruct": "{\"type\":\"object\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[{\"key\":\"Sub-Object-A\",\"name\":\"Sub-Object-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"subProp\":[{\"key\":\"Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[{\"key\":\"Sub-Sub-Array-A\",\"name\":\"Sub-Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"object\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"subProp\":[{\"key\":\"Sub-Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]}],\"subArray\":[]}]}"
            },
            {
                "description": "",
                "muTplStr": "\n{{!meta=[ type:'array', length:3, maxLength:4, minLength:2 ]}}\n  {{#Sub-Object-A}}\n    {{Sub-Sub-Prop-A}}\n    {{Sub-Sub-Prop-B}}\n    {{Sub-Sub-Prop-C}}\n\t{{!meta=[ type:'array', length:3, maxLength:4, minLength:2 ]}}\n\t{{#Sub-Sub-Array-A}}\n\t  {{Sub-Sub-Sub-Prop-A}}\n\t  {{Sub-Sub-Sub-Prop-B}}\n\t  {{Sub-Sub-Sub-Prop-C}}\n\t{{/Sub-Sub-Array-A}}11\n\t{{!meta=[ type:'array' ]}}\n  {{/Sub-Object-A}}",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"Sub-Object-A\":{\"key\":\"Sub-Object-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"value\":{\"Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Array-A\":{\"key\":\"Sub-Sub-Array-A\",\"type\":\"object\",\"meta\":{\"type\":\"array\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"value\":{\"Sub-Sub-Sub-Prop-A\":{\"key\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-B\":{\"key\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"string\",\"meta\":{},\"value\":\"\"},\"Sub-Sub-Sub-Prop-C\":{\"key\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"string\",\"meta\":{},\"value\":\"\"}}}}}}}",
                "demoJSON": "{\"Sub-Object-A\":[{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"},{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"},{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}]},{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"},{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"},{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}]},{\"Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Prop-C\":\"\",\"Sub-Sub-Array-A\":[{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"},{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"},{\"Sub-Sub-Sub-Prop-A\":\"\",\"Sub-Sub-Sub-Prop-B\":\"\",\"Sub-Sub-Sub-Prop-C\":\"\"}]}]}",
                "fmStruct": "{\"type\":\"object\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[{\"key\":\"Sub-Object-A\",\"name\":\"Sub-Object-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"subProp\":[{\"key\":\"Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[{\"key\":\"Sub-Sub-Array-A\",\"name\":\"Sub-Sub-Array-A\",\"type\":\"array\",\"meta\":{\"type\":\"array\",\"length\":3,\"maxLength\":4,\"minLength\":2,\"isArray\":true},\"subProp\":[{\"key\":\"Sub-Sub-Sub-Prop-A\",\"name\":\"Sub-Sub-Sub-Prop-A\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-B\",\"name\":\"Sub-Sub-Sub-Prop-B\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"Sub-Sub-Sub-Prop-C\",\"name\":\"Sub-Sub-Sub-Prop-C\",\"type\":\"prop\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]}]}]}"
            },
            {
                "description": "",
                "muTplStr": "{{!meta=[ type:'func' ]}}\n{{#_hasChild_}}\nfunction(){\n    return !!this.cateList && !!this.cateList.length;\n}\n{{/_hasChild_}}\n<div class=\"omod-p-list-carousel\">\n\t<a class=\"prev-btn\" href=\"javascript:void(0)\"  hidefocus=\"true\"></a>\n    <a class=\"next-btn\" href=\"javascript:void(0)\"  hidefocus=\"true\"></a>\n        <div class=\"carousel-main\" id=\"carousel-main\">\n            <div class=\"carousell-con\">\n                <ul class=\"carousell-item clearfix\">\n                    {{!meta=[  name:'产品列表', type:'array', length:8, subNameMap:{ storeDetailURL:'产品链接URL', summImageURL:'产品图片URL', discount:'折扣', isNewArrival:'是否为新品', name:'产品名',xxx:'12', newMinPrice:'现价', save:'立省金额', packageType:'单位', freeShipping:'是否免运费', isSoldout:'是否售空', subNameMap:{ discount:'折扣' } } ]}}\n                    {{#productList}}\n                    <li class=\"g-items g-items-general\">\n                        <div class=\"g-pic\">\n                            <a href=\"{{storeDetailURL}}\">\n                                <img src=\"{{summImageURL}}\">\n                            </a>\n                            {{#discount}}\n                                <span class=\"g-discount\">{{discount}}{{xxx}}% OFF</span>\n                            {{/discount}}\n                            {{#isNewArrival}}\n                                <span class=\"g-newarrival\">New Arrival</span>\n                            {{/isNewArrival}}\n                        </div>\n                        <div class=\"g-detail\">\n                            <span class=\"g-name\"><a title=\"{{name}}\" href=\"{{storeDetailURL}}\">{{name}}</a></span>\n                            <span class=\"g-price\"><em>US ${{newMinPrice}}</em> / {{packageType}}</span>\n                            <span class=\"g-save\">Save: US ${{save}}</span>\n                            <span class=\"g-freeshipping\">1\n                            {{#freeShipping}}\n                                Free Shipping\n                            {{/freeShipping}}\n                            </span>\n                        </div>\n                        {{#isSoldout}}\n                        <span class=\"g-soldout\"></span>\n                        {{/isSoldout}}\n                    </li>\n                    {{/productList}}\n                </ul>\n            </div>    \n        </div>\n</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t",
                "muStruct": "{\"key\":null,\"type\":\"object\",\"meta\":{},\"value\":{\"productList\":{\"key\":\"productList\",\"type\":\"object\",\"meta\":{\"name\":\"产品列表\",\"type\":\"array\",\"length\":8,\"subNameMap\":{\"storeDetailURL\":\"产品链接URL\",\"summImageURL\":\"产品图片URL\",\"discount\":\"折扣\",\"isNewArrival\":\"是否为新品\",\"name\":\"产品名\",\"xxx\":\"12\",\"newMinPrice\":\"现价\",\"save\":\"立省金额\",\"packageType\":\"单位\",\"freeShipping\":\"是否免运费\",\"isSoldout\":\"是否售空\",\"subNameMap\":{\"discount\":\"折扣\"}}},\"value\":{\"storeDetailURL\":{\"key\":\"storeDetailURL\",\"type\":\"string\",\"meta\":{\"name\":\"产品链接URL\"},\"value\":\"\"},\"summImageURL\":{\"key\":\"summImageURL\",\"type\":\"string\",\"meta\":{\"name\":\"产品图片URL\"},\"value\":\"\"},\"discount\":{\"key\":\"discount\",\"type\":\"string\",\"meta\":{\"name\":\"折扣\"},\"value\":\"\"},\"xxx\":{\"key\":\"xxx\",\"type\":\"string\",\"meta\":{\"name\":\"12\"},\"value\":\"\"},\"isNewArrival\":{\"key\":\"isNewArrival\",\"type\":\"string\",\"meta\":{\"name\":\"是否为新品\"},\"value\":\"\"},\"name\":{\"key\":\"name\",\"type\":\"string\",\"meta\":{\"name\":\"产品名\"},\"value\":\"\"},\"newMinPrice\":{\"key\":\"newMinPrice\",\"type\":\"string\",\"meta\":{\"name\":\"现价\"},\"value\":\"\"},\"packageType\":{\"key\":\"packageType\",\"type\":\"string\",\"meta\":{\"name\":\"单位\"},\"value\":\"\"},\"save\":{\"key\":\"save\",\"type\":\"string\",\"meta\":{\"name\":\"立省金额\"},\"value\":\"\"},\"freeShipping\":{\"key\":\"freeShipping\",\"type\":\"string\",\"meta\":{\"name\":\"是否免运费\"},\"value\":\"\"},\"isSoldout\":{\"key\":\"isSoldout\",\"type\":\"string\",\"meta\":{\"name\":\"是否售空\"},\"value\":\"\"}}}}}",
                "demoJSON": "{\"productList\":[{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"},{\"storeDetailURL\":\"\",\"summImageURL\":\"\",\"discount\":\"\",\"xxx\":\"\",\"isNewArrival\":\"\",\"name\":\"\",\"newMinPrice\":\"\",\"packageType\":\"\",\"save\":\"\",\"freeShipping\":\"\",\"isSoldout\":\"\"}]}",
                "fmStruct": "{\"type\":\"object\",\"meta\":{},\"subProp\":[],\"subObject\":[],\"subArray\":[{\"key\":\"productList\",\"name\":\"产品列表\",\"type\":\"array\",\"meta\":{\"name\":\"产品列表\",\"type\":\"array\",\"length\":8,\"subNameMap\":{\"storeDetailURL\":\"产品链接URL\",\"summImageURL\":\"产品图片URL\",\"discount\":\"折扣\",\"isNewArrival\":\"是否为新品\",\"name\":\"产品名\",\"xxx\":\"12\",\"newMinPrice\":\"现价\",\"save\":\"立省金额\",\"packageType\":\"单位\",\"freeShipping\":\"是否免运费\",\"isSoldout\":\"是否售空\",\"subNameMap\":{\"discount\":\"折扣\"}}},\"subProp\":[{\"key\":\"storeDetailURL\",\"name\":\"产品链接URL\",\"type\":\"prop\",\"meta\":{\"name\":\"产品链接URL\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"summImageURL\",\"name\":\"产品图片URL\",\"type\":\"prop\",\"meta\":{\"name\":\"产品图片URL\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"discount\",\"name\":\"折扣\",\"type\":\"prop\",\"meta\":{\"name\":\"折扣\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"xxx\",\"name\":\"12\",\"type\":\"prop\",\"meta\":{\"name\":\"12\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"isNewArrival\",\"name\":\"是否为新品\",\"type\":\"prop\",\"meta\":{\"name\":\"是否为新品\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"name\",\"name\":\"产品名\",\"type\":\"prop\",\"meta\":{\"name\":\"产品名\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"newMinPrice\",\"name\":\"现价\",\"type\":\"prop\",\"meta\":{\"name\":\"现价\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"packageType\",\"name\":\"单位\",\"type\":\"prop\",\"meta\":{\"name\":\"单位\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"save\",\"name\":\"立省金额\",\"type\":\"prop\",\"meta\":{\"name\":\"立省金额\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"freeShipping\",\"name\":\"是否免运费\",\"type\":\"prop\",\"meta\":{\"name\":\"是否免运费\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]},{\"key\":\"isSoldout\",\"name\":\"是否售空\",\"type\":\"prop\",\"meta\":{\"name\":\"是否售空\"},\"subProp\":[],\"subObject\":[],\"subArray\":[]}],\"subObject\":[],\"subArray\":[]}]}"
            }
        ];

        (function(){
            // Data Containers
            var muArea        = $('#tpl-input'),
                dataInfoBox   = $('#data-json-info-box'),
                demoDataBox   = $('#data-json-demo-box'),
                formStructBox = $('#form-struct-json-box'),
                dataFormBox   = $('#data-form'),
                formDataArea  = $('#form-data-json'),
                renderResBox  = $('#render-result'),
                caseDataArea  = $('#test-case-gene');
            
            // Data Cache
            var dataInfo = window._MC_dataInfo = {};

            var muTplStr,
                muStruct,
                demoJSON,
                fmStruct,
                editorArea,
                formData;

            var activeStorage = false;


            function init (  ) {

                Mustache.testing = 0;
                mustComb.setMustache( Mustache );

                muArea.keyup( mustacheCodeChange ).blur( mustacheCodeChange ).change( mustacheCodeChange ).trigger('keyup');
                formDataArea.blur( formDataJsonChange ).trigger('blur');
                caseDataArea.focus(function(){ var self = this; setTimeout(function(){ $(self).select() }, 100); });
                dataFormBox.find('input').live('blur', formDataChange);

                runCase();
            }

            // Event Handlers
            function mustacheCodeChange ( ) {

                dataInfo.muTplStr   = muTplStr   = muArea.val();
                dataInfo.muStruct   = muStruct   = mustComb.parse( muTplStr );
                dataInfo.demoJSON   = demoJSON   = mustComb.getDemoJSON( muTplStr );
                dataInfo.fmStruct   = fmStruct   = mustComb.getFormStruct( muTplStr );
                dataInfo.editorArea = editorArea = mustComb.buildEditorArea( muTplStr, dataFormBox );

                dataInfoBox.html(
                    beautifyJs( JSON.stringify( muStruct ) )
                );

                demoDataBox.html(
                    beautifyJs( JSON.stringify( demoJSON ) )
                );

                formStructBox.html(
                    beautifyJs( JSON.stringify( fmStruct ) )
                );
                
                formDataChange();
                formDataJsonChange();

                storeMutpl();
                storeFormData();
                geneCaseData();
            }

            function formDataJsonChange() {
                var jsonData;
                try {
                    jsonData = JSON.parse( formDataArea.val() || '{}' );
                }
                catch ( e ) {
                    console.error( 'Form Data JSON Import - ' +  e );
                }

                editorArea.importData(
                    jsonData || {}
                );
            }

            function formDataChange() {
                formDataArea.val(
                    beautifyJs( JSON.stringify( editorArea.exportData() ) )
                );
            }

            function geneCaseData () {
                var caseData = {
                    description : '',
                    muTplStr    : muTplStr,
                    muStruct    : JSON.stringify( muStruct ),
                    demoJSON    : JSON.stringify( demoJSON ),
                    fmStruct    : JSON.stringify( fmStruct )
                };
                caseDataArea.val( beautifyJs( JSON.stringify( caseData ) ) );
            }
                
            function resetMutpl () {
                muArea.val( localStorage.getItem('muTplStr') || '' ).trigger('change');
            }

            function storeMutpl () {
                if ( activeStorage ) {
                    localStorage.setItem('muTplStr', muArea.val() );
                }
            }
                
            function resetFormData () {
                formDataArea.val( localStorage.getItem('muFormData') || '' ).trigger('change');
            }

            function storeFormData () {
                if ( activeStorage ) {
                    localStorage.setItem('muFormData', formDataArea.val() );
                }
            }


            function runCase () {
                var cases = window['TEST_CASES'];
                for (var i = 0, l = cases.length; i < l; i++) {
                    (function( currCase, isLast ){
                        test( currCase.description || '', function(){
                            muArea.val( currCase.muTplStr ).trigger('keyup');

                            deepEqual(
                                JSON.parse( dataInfo.muStruct.stringify() ),
                                JSON.parse( dataInfo.muStruct.stringify.call( JSON.parse( currCase.muStruct ) ) ),
                                'Template Structure Match'
                            );

                            if ( currCase.demoJSON ) {
                                deepEqual(
                                    dataInfo.demoJSON,
                                    JSON.parse( currCase.demoJSON ),
                                    'Data JSON Demo Match'
                                );
                            }

                            if ( currCase.fmStruct ) {
                                deepEqual(
                                    dataInfo.fmStruct,
                                    JSON.parse( currCase.fmStruct ),
                                    'Form Structure Match'
                                );
                            }

                            
                            if ( isLast ) {
                                activeStorage = true;
                                resetMutpl();
                                resetFormData();
                                geneCaseData();
                            }
                        });
                    })( cases[i], i+1 == l );
                };
            }

            init();

        })();

    </script>
</body>
</html>